# TimeFocus 小程序提交审核指南

## 📋 提交前检查清单

### 1. 云开发环境检查
- [ ] 云函数已全部部署
  - login
  - statistics
  - exportData
  - batchOperations
- [ ] 数据库权限已配置（仅创建者和管理员可读写）
- [ ] 云开发环境 ID 已正确配置在 app.js 中

### 2. 功能测试
- [ ] 用户登录功能正常
- [ ] 番茄钟计时功能正常（开始、暂停、放弃、完成）
- [ ] 任务增删改查功能正常
- [ ] 统计数据显示准确
- [ ] 设置保存功能正常
- [ ] 分享功能正常

### 3. 配置文件检查
- [ ] project.config.json 中 urlCheck 设为 true
- [ ] app.json 中无多余权限申请
- [ ] 隐私政策文档 privacy.md 已准备好

### 4. 代码清理
- [ ] 删除所有 console.log（保留必要的错误日志）
- [ ] 删除测试代码和调试脚本
- [ ] 删除未使用的文件

---

## 🚀 提交步骤

### 步骤 1: 上传代码到微信服务器

1. **打开微信开发者工具**
   - 确保项目在开发者工具中正常运行

2. **点击右上角"上传"按钮**
   - 填写版本号（如：1.0.0）
   - 填写项目备注（如：首次提交，修复统计数据准确性）
   - 点击"上传"

3. **等待上传完成**
   - 上传成功后会显示"上传成功"提示

---

### 步骤 2: 在微信公众平台提交审核

1. **登录微信公众平台**
   - 访问：https://mp.weixin.qq.com
   - 使用小程序管理员账号登录

2. **进入"版本管理"**
   - 左侧菜单：管理 → 版本管理
   - 找到"开发版本"栏目

3. **选择刚上传的版本**
   - 点击"提交审核"按钮

---

### 步骤 3: 填写审核信息

#### 3.1 基本信息
```
小程序名称：TimeFocus
小程序简介：一款结合任务管理与番茄钟的时间管理工具，帮助你科学管理时间、提升专注力
```

#### 3.2 服务类别
```
一级类目：工具
二级类目：效率
```

#### 3.3 标签（最多10个）
```
番茄工作法、时间管理、专注力、任务管理、效率工具、
番茄钟、GTD、待办事项、目标管理、自律
```

#### 3.4 用户隐私保护指引

**需要填写的隐私信息：**

1. **用户信息 - 微信昵称**
   - 使用场景：用户个人中心显示
   - 使用目的：展示用户身份信息

2. **用户信息 - 微信头像**
   - 使用场景：用户个人中心显示
   - 使用目的：展示用户身份信息

3. **设备信息**
   - 使用场景：番茄钟振动提醒
   - 使用目的：提供专注完成提醒

4. **其他信息 - 日志信息**
   - 使用场景：问题排查
   - 使用目的：优化小程序性能

**隐私政策链接：**
- 上传 privacy.md 到你的服务器或 GitHub Pages
- 或在小程序内添加隐私政策页面

---

### 步骤 4: 配置功能页面

**需要配置的页面路径：**

| 功能 | 页面路径 |
|------|---------|
| 首页（番茄钟） | pages/index/index |
| 统计页面 | pages/statistics/statistics |
| 我的页面 | pages/profile/profile |

---

### 步骤 5: 测试体验版

**生成体验版二维码：**
1. 在"版本管理" → "开发版本"中
2. 点击"选为体验版"
3. 生成体验版二维码
4. 邀请测试人员扫码测试

**关键测试点：**
- [ ] 新用户首次进入是否弹出欢迎窗口
- [ ] 番茄钟完成是否有提示音和震动
- [ ] 统计数据是否准确
- [ ] 不同设备是否正常显示

---

### 步骤 6: 正式提交审核

1. **确认所有信息无误**
2. **点击"提交审核"**
3. **等待审核结果**（通常 1-7 个工作日）

---

## ⚠️ 常见审核失败原因及解决方案

### 1. 功能不完整
❌ **问题**：核心功能无法使用
✅ **解决**：确保所有云函数已部署，数据库权限已配置

### 2. 隐私政策缺失
❌ **问题**：未提供隐私政策或链接无效
✅ **解决**：确保 privacy.md 可访问，或在小程序内添加隐私政策页面

### 3. 服务类目不符
❌ **问题**：实际功能与选择的类目不符
✅ **解决**：确保选择"工具 - 效率"类目

### 4. 用户体验问题
❌ **问题**：页面加载慢、闪退、白屏
✅ **解决**：多设备测试，优化加载速度

### 5. 内容安全问题
❌ **问题**：包含测试内容、不当内容
✅ **解决**：清理所有测试数据和调试代码

---

## 📱 审核通过后的操作

### 1. 发布上线
- 审核通过后，点击"提交发布"
- 一般 30 分钟内即可搜索到你的小程序

### 2. 后续更新
- 修复 bug 或添加新功能后
- 重复"上传代码" → "提交审核"流程
- 新版本审核时间约 1-3 个工作日

### 3. 版本管理
- 建议使用语义化版本号：
  - 1.0.0 - 首次发布
  - 1.0.1 - bug 修复
  - 1.1.0 - 新功能
  - 2.0.0 - 重大更新

---

## 💡 提交技巧

### 提高审核通过率的建议：

1. **完整的功能说明**
   - 在审核备注中详细说明小程序功能
   - 提供测试账号（如果需要）

2. **准备演示视频**
   - 录制 30-60 秒功能演示视频
   - 展示核心功能使用流程

3. **提供联系方式**
   - 在"关于"页面添加反馈渠道
   - 方便审核人员联系

4. **避免敏感词汇**
   - 不要使用"最好"、"第一"等绝对化词汇
   - 避免夸大宣传

---

## 📞 遇到问题怎么办？

### 审核被驳回
1. 查看驳回原因
2. 根据反馈修改代码
3. 重新提交审核

### 技术问题
- 微信开放社区：https://developers.weixin.qq.com/community/
- 官方文档：https://developers.weixin.qq.com/miniprogram/dev/

---

## ✅ 当前项目状态

- ✅ 代码已清理
- ✅ 隐私政策已准备
- ✅ 数据库安全已配置
- ✅ 统计数据已修复
- ✅ 分享功能已完善
- ✅ 新用户引导已添加

**你的小程序已经准备好提交审核了！** 🚀

---

## 📝 提交记录

| 版本号 | 提交时间 | 审核状态 | 备注 |
|--------|---------|---------|------|
| 1.0.0  |         | 待提交   | 首次提交 |

祝审核顺利通过！💪
