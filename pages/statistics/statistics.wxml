<!-- pages/statistics/statistics.wxml -->
<view class="container">
  <!-- æ€»è§ˆå¡ç‰‡ -->
  <view class="overview-card card">
    <view class="overview-title">ğŸ“Š æœ¬å‘¨ç»Ÿè®¡</view>
    <view class="overview-stats">
      <view class="overview-item">
        <text class="overview-icon">ğŸ…</text>
        <text class="overview-value">{{weekStats.totalPomodoros}}</text>
        <text class="overview-label">æœ¬å‘¨ç•ªèŒ„</text>
      </view>
      <view class="overview-item">
        <text class="overview-icon">â±</text>
        <text class="overview-value">{{weekStats.totalMinutes}}</text>
        <text class="overview-label">åˆ†é’Ÿ</text>
      </view>
      <view class="overview-item">
        <text class="overview-icon">âœ…</text>
        <text class="overview-value">{{weekStats.completedTasks}}</text>
        <text class="overview-label">å®Œæˆä»»åŠ¡</text>
      </view>
    </view>
  </view>

  <!-- å‘¨ç»Ÿè®¡å›¾è¡¨ -->
  <view class="chart-card card">
    <view class="chart-title">ğŸ“ˆ æœ€è¿‘7å¤©</view>
    <view class="chart-container">
      <view class="bar-chart">
        <view wx:for="{{weeklyData}}" wx:key="date" class="bar-item">
          <view class="bar-wrapper">
            <view class="bar" style="height: {{item.height}}%">
              <text wx:if="{{item.count > 0}}" class="bar-label">{{item.count}}</text>
            </view>
          </view>
          <text class="bar-date">{{item.label}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- è¶‹åŠ¿åˆ†æ -->
  <view class="trend-card card">
    <view class="trend-title">ğŸ”¥ è¶‹åŠ¿åˆ†æ</view>
    <view class="trend-list">
      <view class="trend-item">
        <view class="trend-left">
          <text class="trend-icon">ğŸ“Š</text>
          <text class="trend-label">å¹³å‡æ¯æ—¥ç•ªèŒ„</text>
        </view>
        <text class="trend-value">{{avgDaily}}</text>
      </view>
      <view class="trend-item">
        <view class="trend-left">
          <text class="trend-icon">ğŸ†</text>
          <text class="trend-label">æœ€é«˜å•æ—¥ç•ªèŒ„</text>
        </view>
        <text class="trend-value">{{maxDaily}}</text>
      </view>
      <view class="trend-item">
        <view class="trend-left">
          <text class="trend-icon">ğŸ”¥</text>
          <text class="trend-label">è¿ç»­ä¸“æ³¨å¤©æ•°</text>
        </view>
        <text class="trend-value">{{streakDays}} å¤©</text>
      </view>
    </view>
  </view>
</view>
